<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="purchase_stock_report_purchaseorder_document_for_llantas" inherit_id="purchase_stock.report_purchaseorder_document">
        <xpath expr="//t[@t-else='']" position="replace">
            <!-- <t t-else="">
                <t t-set="information_block">
                    <strong>Shipping address:</strong>
                    <div t-if="o.picking_type_id and o.picking_type_id.warehouse_id">
                        <span t-field="o.picking_type_id.warehouse_id.name"/>
                        <div t-field="o.picking_type_id.warehouse_id.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;phone&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}"/>
                    </div>
                </t>
            </t> -->
        </xpath>
    </template>
    
    <template id="purchase_report_purchaseorder_document_for_llantas" inherit_id="purchase.report_purchaseorder_document">
        <xpath expr="//t[@t-set='address']" position="replace">
            <!-- <t t-set="address">
                <div t-field="o.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;, &quot;phone&quot;, &quot;vat&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}"/>
            </t> -->
        </xpath>
        <xpath expr="//div[hasclass('mt-4')]" position="replace">
            <div class="row">
                <div class="col-5">
                    <span t-field="o.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;], &quot;no_marker&quot;: True}"/>
                    <div t-if="o.partner_id.vat">
                        <t t-if="o.company_id.country_id.vat_label" t-esc="o.company_id.country_id.vat_label" id="inv_tax_id_label"/>
                        <t t-else="">Tax ID</t>: <span t-field="o.partner_id.vat"/>
                    </div>
                    <div t-if="o.partner_id.phone">
                        <t>Teléfono</t>: <span t-field="o.partner_id.phone"/>
                    </div>
                </div>
                <div class="col-7">
                    <strong>NOTA IMPORTANTE : Este número de Orden de Compra debe anular toda factura, conocimiento de embarque, Guía de transporte, Nota de Remisión etc... y en toda correspondencia que se relacione con el citado pedido.</strong>
                </div>
            </div>
            <div>
                <h2 t-if="o.state in ['draft', 'sent', 'to approve']">Solicitud de cotización #<span t-field="o.name"/></h2>
                <h2 t-if="o.state in ['purchase', 'done']">Orden de compra #<span t-field="o.name"/></h2>
                <h2 t-if="o.state == 'cancel'">Orden de compra cancelada #<span t-field="o.name"/></h2>
            </div>
            <div class="row mt-4 mb32" style="auto">
                <div class="col-3 bm-2" t-if="o.auto_sale_order_id.name">
                    <strong>Orden de venta:</strong>
                    <p t-field="o.auto_sale_order_id.name" class="m-0"/>
                </div>
                <div t-if="o.auto_sale_order_id.marketplace.name" class="col-3 bm-2">
                    <strong>Marketplace:</strong>
                    <p t-field="o.auto_sale_order_id.marketplace.name" class="m-0"/>
                </div>
                <div t-if="o.auto_sale_order_id.partner_id.name" class="col-3 bm-2">
                    <strong>Cliente:</strong>
                    <p t-field="o.auto_sale_order_id.partner_id.name" class="m-1"/>
                </div>
                <div class="col-3 bm-2" t-if="o.auto_sale_order_id.fecha_venta">
                    <strong>Fecha venta:</strong>
                    <p t-field="o.auto_sale_order_id.fecha_venta" class="m-0"/>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@t-if='o.user_id']" position="replace">
            <div t-if="o.user_id" class="col-3 bm-2">
                <strong>Pedido por:</strong>
                <p t-field="o.user_id" class="m-0"/>
            </div>
        </xpath>
        <xpath expr="//div[@t-if='o.partner_ref']" position="replace">
            <div t-if="o.partner_ref" class="col-3 bm-2">
                <strong>Referencia de compra:</strong>
                <p t-field="o.partner_ref" class="m-0"/>
            </div>
        </xpath>
        <xpath expr="//div[@id='informations']//div[3]" position="replace">
            <div t-if="o.state in ['purchase','done'] and o.date_approve" class="col-3 bm-2">
                <strong>Fecha de Orden:</strong>
                <p t-field="o.date_approve" class="m-0"/>
            </div>
        </xpath>
        <!-- <xpath expr="//div[@t-if='o.state in ['purchase','done'] and o.date_approve']" position="replace">
            <div t-if="o.state in ['purchase','done'] and o.date_approve" class="col-3 bm-2">
                <strong>Fecha de Orden:</strong>
                <p t-field="o.date_approve" class="m-0"/>
            </div>
        </xpath> -->
        <xpath expr="//div[@t-elif='o.date_order']" position="replace">
            <div t-elif="o.date_order" class="col-3 bm-2">
                <strong>Fecha límite de pedido:</strong>
                <p t-field="o.date_order" class="m-0"/>
            </div>
        </xpath>
        <xpath expr="//table[1]" position="attributes">
            <attribute name="style">font-size:12px</attribute>
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="replace">
            <!-- <th name="th_quantity" class="text-end"><strong>Qty</strong></th> -->
        </xpath>
        <xpath expr="//th[@name='th_description']" position="before">
            <th name="th_quantity" class="text-center"><strong>Cant.</strong></th>
            <th name="uom_po_id" class="text-center"><strong>Unidades</strong></th>
            <th name="default_code" class="text-center"><strong>Código</strong></th>
            <th name="no_pedimento" class="text-center"><strong>Codigo proveedor</strong></th>
        </xpath>
        <xpath expr="//th[@name='th_price_unit']" position="replace">
            <th name="th_price_unit" class="text-center"><strong>Precio por unidad</strong></th>
        </xpath>
        <xpath expr="//th[@name='th_amount']" position="replace">
            <th name="th_amount" class="text-center"><strong>Monto</strong></th>
        </xpath>
        <xpath expr="//td[4]" position="replace">
            <!-- <td class="text-end">
                <span t-field="line.product_qty"/>
                <span t-field="line.product_uom.name" groups="uom.group_uom"/>
            </td> -->
        </xpath>
        <xpath expr="//td[1]" position="before">
            <td class="text-end">
                <span t-field="line.product_qty"/>
            </td>
            <td class="text-end">
                <span t-field="line.product_uom.name" groups="uom.group_uom"/>
            </td>
            <td class="text-end">
                <span t-field="line.product_id.default_code"/>
            </td>
            <td class="text-end">
                <span t-field="line.codigo_proveedor"/>
            </td>
        </xpath>
        <xpath expr="//table[1]" position="after">
            <tbody>
                <div>
                    <h3>Importe con letra</h3>
                </div>
                <td class="table">
                    <span t-esc="o.currency_id.with_context(lang=o.partner_id.lang or 'es_ES').amount_to_text(o.amount_total).upper()"/><p>00/100 M.N.</p>
                </td>
<!--                <strong>NOTA IMPORTANTE : Este número de Orden de-->
<!--Compra debe anular toda factura, conocimiento de-->
<!--embarque, Guía de transporte, Nota de Remisión etc...-->
<!--y en toda correspondencia que se relacione con el-->
<!--citado pedido.</strong>-->
            </tbody>
        </xpath>
        <xpath expr="//p[@t-field='o.notes']" position="replace">
            <!-- <p t-field="o.notes" class="mt-4"/> -->
        </xpath>
        <xpath expr="//div[@id='total']" position="after">
            <table class="table table-sm o_main_table mt-4">
                <thead style="display: table-row-group">
                    <tr>
                        <th> <p>Referencia de proveedor</p></th>
                        <th> <p t-field="o.notes" class="mt-4"/></th>
                        <!-- <div class="oe_structure"/> -->
                    </tr>
                </thead>
            </table>
             <!-- <table class="table table-condensed">
            <thead>
                <tr>
                    <th>Campo</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Orden de venta:</strong></td>
                    <td><span t-field="o.auto_sale_order_id.name"/></td>
                </tr>
                <tr >
                    <td><strong>Marketplace:</strong></td>
                    <td><span t-field="o.auto_sale_order_id.marketplace.name"/></td>
                </tr>
                <tr >
                    <td><strong>Cliente:</strong></td>
                    <td><span t-field="o.auto_sale_order_id.partner_id.name"/></td>
                </tr>
                <tr>
                    <td><strong>Fecha venta:</strong></td>
                    <td><span t-field="o.auto_sale_order_id.fecha_venta"/></td>
                </tr>
            </tbody>
        </table> -->
        </xpath>
        <!-- <xpath expr="//div[@t-if='o.user_id']" position="after">
            <div class="row mt-4 mb32"  >
                <div class="col-3 bm-2" t-if="o.auto_sale_order_id">
                    <strong>Orden de venta:</strong>
                    <p t-field="o.auto_sale_order_id.name" class="m-0"/>
                </div>
                <div t-if="o.auto_sale_order_id.marketplace.name" class="col-3 bm-2">
                    <strong>Marketplace:</strong>
                    <p t-field="o.auto_sale_order_id.marketplace.name" class="m-0"/>
                </div>
                <div t-if="o.auto_sale_order_id.partner_id.name" class="col-3 bm-2">
                    <strong>Cliente:</strong>
                    <p t-field="o.auto_sale_order_id.partner_id.name" class="m-0"/>
                </div>
                <div t-elif="o.auto_sale_order_id.fecha_venta" class="col-3 bm-2">
                    <strong>Fecha venta:</strong>
                    <p t-field="o.auto_sale_order_id.fecha_venta" class="m-0"/>
                </div>
            </div>
        </xpath>
         -->
        
    </template>
</odoo>